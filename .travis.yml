language: scala

matrix:
  include:
    # scala 2.10
    - jdk: oraclejdk8
      scala: 2.10.5
      env: SCALAZ_STREAM_VERSION=0.7.3a
    # - jdk: oraclejdk8
    #   scala: 2.10.5
    #   env: SCALAZ_STREAM_VERSION=0.8.1a
    # # scala 2.11
    # - jdk: oraclejdk8
    #   scala: 2.11.8
    #   env: SCALAZ_STREAM_VERSION=0.8.1a
    # - jdk: oraclejdk8
    #   scala: 2.11.8
    #   env: SCALAZ_STREAM_VERSION=0.7.3a

sudo: required

env:
  global:
    - secure: "Ibl4y1s8LZ/WWLlBIKWisYVlwrW3wVJgWH99RxlX39KA8KmvL+BVHFIibxitEU/aIvnMEmG0iwcDbIxOmZIn2w+9Zm+auCZk8B7fpSrPqFxSPxcxbm8Voee4PmvsI0UWcCDaE2xLlOuP+DTrKDr3/cdNC8RHMUgG503IOk/CJck="

install:
  - mkdir $HOME/.bintray/
  - echo $SOMEVAR
  - "if [ $TRAVIS_PULL_REQUEST = 'false' ]; then echo $BINTRAY_CREDENTIALS | base64 --decode > $HOME/.bintray/.credentials; fi"
  # - cat $HOME/.bintray/.credentials

before_script:
  - git config --global user.email "oss@travis-ci.org"
  - git config --global user.name "travis-ci"
  - git fetch -q --unshallow
  - git checkout -qf $TRAVIS_BRANCH

script:
  - echo "Hello $SOMEVAR"
  # - "if [ $TRAVIS_PULL_REQUEST = 'false' ]; then sbt ++$TRAVIS_SCALA_VERSION 'release with-defaults'; else sbt ++$TRAVIS_SCALA_VERSION test; fi"

after_success:
  - find $HOME/.sbt -name "*.lock" | xargs rm
  - find $HOME/.ivy2 -name "ivydata-*.properties" | xargs rm

cache:
  directories:
    - $HOME/.ivy2/cache
    - $HOME/.sbt/boot/scala-$TRAVIS_SCALA_VERSION
